<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let's Win! - Riddle 1 of 7</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #F0F8FF 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .puzzle-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        .instructions {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 30px;
            font-weight: 500;
        }

        .elements-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .draggable-element {
            background: linear-gradient(145deg, #f0f0f0, #cacaca);
            border: 3px solid #3498db;
            border-radius: 15px;
            padding: 20px;
            cursor: grab;
            font-size: 3rem;
            transition: all 0.3s ease;
            user-select: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .draggable-element:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .draggable-element:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .draggable-element.dragging {
            opacity: 0.7;
            transform: rotate(5deg);
        }

        .drop-zones {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .drop-zone {
            background: linear-gradient(145deg, #e8f5e8, #d4edda);
            border: 3px dashed #28a745;
            border-radius: 15px;
            padding: 30px 20px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .drop-zone.drag-over {
            background: linear-gradient(145deg, #d1ecf1, #bee5eb);
            border-color: #17a2b8;
            transform: scale(1.05);
        }

        .drop-zone.correct {
            background: linear-gradient(145deg, #d4edda, #c3e6cb);
            border-color: #28a745;
            border-style: solid;
        }

        .drop-zone.wrong {
            background: linear-gradient(145deg, #f8d7da, #f5c6cb);
            border-color: #dc3545;
            animation: shake 0.5s ease-in-out;
        }

        .zone-label {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .zone-content {
            font-size: 2.5rem;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .success-message {
            background: linear-gradient(145deg, #d4edda, #c3e6cb);
            border: 2px solid #28a745;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            color: #155724;
            font-size: 1.2rem;
            font-weight: bold;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .success-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        .hint {
            background: linear-gradient(145deg, #fff3cd, #ffeaa7);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            color: #856404;
            font-size: 1.1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .hint.show {
            opacity: 1;
            transform: translateY(0);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .bounce {
            animation: bounce 1s ease-in-out;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .puzzle-container {
                padding: 20px;
            }
            
            .elements-container,
            .drop-zones {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .draggable-element {
                font-size: 2.5rem;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üå± Let's Win!</h1>
        <p>Riddle 1 of 7</p>
    </div>

    <div class="puzzle-container" style="margin-bottom: 20px;">
        <div class="instructions" style="background: linear-gradient(145deg, #e3f2fd, #bbdefb); border: 2px solid #2196f3; border-radius: 15px; padding: 20px; color: #0d47a1;">
            <strong>üéØ Welcome to the First Challenge!</strong><br><br>
            <em>Captain:</em> All team members can scan the QR code to help solve this puzzle. The first person to get the answer should tell it to the captain for the next clue.
        </div>
    </div>

    <div class="puzzle-container">
        <div class="instructions">
            üå± <em>Match the elements to their scientific counterparts.</em><br>
            Drag each icon into its correct category.
        </div>

        <div class="elements-container">
            <div class="draggable-element" draggable="true" data-element="sun">‚òÄÔ∏è</div>
            <div class="draggable-element" draggable="true" data-element="water">üíß</div>
            <div class="draggable-element" draggable="true" data-element="leaf">üåø</div>
            <div class="draggable-element" draggable="true" data-element="earth">üåç</div>
        </div>

        <div class="drop-zones">
            <div class="drop-zone" data-zone="rays">
                <div class="zone-label">Rays</div>
                <div class="zone-content"></div>
            </div>
            <div class="drop-zone" data-zone="amazon">
                <div class="zone-label">Amazon</div>
                <div class="zone-content"></div>
            </div>
            <div class="drop-zone" data-zone="droplets">
                <div class="zone-label">Droplets</div>
                <div class="zone-content"></div>
            </div>
            <div class="drop-zone" data-zone="gravity">
                <div class="zone-label">Gravity</div>
                <div class="zone-content"></div>
            </div>
        </div>

        <div class="success-message" id="successMessage">
            ‚úÖ You've completed the balance of nature!
        </div>

        <div class="hint" id="hint">
            <strong>Next Location:</strong><br>
            Head downhill toward the gentle sound of water ‚Äî that's where your next clue hides.
        </div>
    </div>

    <script>
        // Correct mappings
        const correctMappings = {
            'sun': 'rays',
            'water': 'droplets',
            'leaf': 'amazon',
            'earth': 'gravity'
        };

        let draggedElement = null;
        let completedElements = 0;

        // Make elements draggable
        document.querySelectorAll('.draggable-element').forEach(element => {
            element.addEventListener('dragstart', handleDragStart);
            element.addEventListener('dragend', handleDragEnd);
        });

        // Make drop zones droppable
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', handleDragOver);
            zone.addEventListener('drop', handleDrop);
            zone.addEventListener('dragenter', handleDragEnter);
            zone.addEventListener('dragleave', handleDragLeave);
        });

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', e.target.outerHTML);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            e.target.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            const elementType = draggedElement.dataset.element;
            const zoneType = e.target.dataset.zone;

            // Check if this is the correct mapping
            if (correctMappings[elementType] === zoneType) {
                // Correct placement
                e.target.classList.add('correct');
                e.target.classList.remove('wrong');
                
                // Move the element to the zone
                const zoneContent = e.target.querySelector('.zone-content');
                zoneContent.innerHTML = draggedElement.innerHTML;
                zoneContent.classList.add('bounce');
                
                // Hide the original element
                draggedElement.style.display = 'none';
                
                completedElements++;
                
                // Check if all elements are placed correctly
                if (completedElements === 4) {
                    setTimeout(() => {
                        showSuccess();
                    }, 500);
                }
            } else {
                // Wrong placement
                e.target.classList.add('wrong');
                setTimeout(() => {
                    e.target.classList.remove('wrong');
                }, 500);
            }
        }

        function showSuccess() {
            const successMessage = document.getElementById('successMessage');
            successMessage.classList.add('show');
            
            setTimeout(() => {
                const hint = document.getElementById('hint');
                hint.classList.add('show');
            }, 1000);
        }

        // Touch support for mobile
        let touchStartElement = null;

        document.querySelectorAll('.draggable-element').forEach(element => {
            element.addEventListener('touchstart', function(e) {
                touchStartElement = this;
                this.style.opacity = '0.7';
            });

            element.addEventListener('touchend', function(e) {
                this.style.opacity = '1';
                touchStartElement = null;
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('touchend', function(e) {
                if (touchStartElement) {
                    const elementType = touchStartElement.dataset.element;
                    const zoneType = this.dataset.zone;

                    if (correctMappings[elementType] === zoneType) {
                        this.classList.add('correct');
                        this.classList.remove('wrong');
                        
                        const zoneContent = this.querySelector('.zone-content');
                        zoneContent.innerHTML = touchStartElement.innerHTML;
                        zoneContent.classList.add('bounce');
                        
                        touchStartElement.style.display = 'none';
                        
                        completedElements++;
                        
                        if (completedElements === 4) {
                            setTimeout(() => {
                                showSuccess();
                            }, 500);
                        }
                    } else {
                        this.classList.add('wrong');
                        setTimeout(() => {
                            this.classList.remove('wrong');
                        }, 500);
                    }
                }
            });
        });
    </script>
</body>
</html>
